# SSL/TLS configuration for production deployment
# Based on modern security best practices

# SSL protocols and ciphers
ssl_protocols TLSv1.2 TLSv1.3;
ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384;
ssl_prefer_server_ciphers off;

# SSL session configuration
ssl_session_timeout 1d;
ssl_session_cache shared:MolecularSSL:50m;
ssl_session_tickets off;

# SSL stapling
ssl_stapling on;
ssl_stapling_verify on;

# OCSP resolver
resolver 8.8.8.8 8.8.4.4 valid=300s;
resolver_timeout 5s;

# DH parameters (should be generated: openssl dhparam -out dhparam.pem 2048)
ssl_dhparam /etc/ssl/certs/dhparam.pem;

# SSL certificate paths (to be configured in deployment)
# ssl_certificate /etc/ssl/certs/molecular-dashboard.crt;
# ssl_certificate_key /etc/ssl/private/molecular-dashboard.key;

# SSL buffer size optimization
ssl_buffer_size 1400;

# Early data (TLS 1.3)
ssl_early_data on;
